{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jersey Customizer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .jersey-viewport {
            width: 100%;
            height: 500px;
            position: relative;
            perspective: 1000px;
            margin: 0 auto;
        }
        
        .jersey-container {
            width: 100%;
            height: 100%;
            position: absolute;
            transform-style: preserve-3d;
            transition: transform 0.8s ease;
        }
        
        .jersey-side {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .jersey-back {
            transform: rotateY(180deg);
        }
        
        .jersey-svg {
            max-width: 80%;
            max-height: 80%;
        }
        
        .controls {
            margin-top: 20px;
            text-align: center;
        }
        
        .color-picker {
            margin: 10px 0;
        }
        
        .text-overlay {
            position: absolute;
            text-align: center;
            pointer-events: none;
        }
        
        .name-overlay {
            top: 25%;
            width: 100%;
            font-size: 24px;
            font-weight: bold;
        }
        
        .number-overlay {
            top: 40%;
            width: 100%;
            font-size: 72px;
            font-weight: bold;
        }
        
        .back-number-overlay {
            top: 30%;
            width: 100%;
            font-size: 120px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">Jersey Customizer</h1>
        
        <div class="row">
            <div class="col-md-8">
                <div class="jersey-viewport">
                    <div class="jersey-container" id="jerseyContainer">
                        <!-- Front Side -->
                        <div class="jersey-side jersey-front">
                            <svg class="jersey-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                                <path class="jersey-body" d="M50,0 L150,0 L150,150 L100,200 L50,150 Z" fill="#ffffff" stroke="#000000" stroke-width="2"/>
                                <path class="jersey-sleeve left-sleeve" d="M50,0 L30,50 L50,50 L50,0 Z" fill="#000000" stroke="#000000" stroke-width="2"/>
                                <path class="jersey-sleeve right-sleeve" d="M150,0 L170,50 L150,50 L150,0 Z" fill="#000000" stroke="#000000" stroke-width="2"/>
                            </svg>
                            <div class="text-overlay number-overlay" id="frontNumberOverlay"></div>
                        </div>
                        
                        <!-- Back Side -->
                        <div class="jersey-side jersey-back">
                            <svg class="jersey-svg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                                <path class="jersey-body" d="M50,0 L150,0 L150,150 L100,200 L50,150 Z" fill="#ffffff" stroke="#000000" stroke-width="2"/>
                                <path class="jersey-sleeve left-sleeve" d="M50,0 L30,50 L50,50 L50,0 Z" fill="#000000" stroke="#000000" stroke-width="2"/>
                                <path class="jersey-sleeve right-sleeve" d="M150,0 L170,50 L150,50 L150,0 Z" fill="#000000" stroke="#000000" stroke-width="2"/>
                            </svg>
                            <div class="text-overlay name-overlay" id="nameOverlay"></div>
                            <div class="text-overlay back-number-overlay" id="backNumberOverlay"></div>
                        </div>
                    </div>
                </div>
                
                <div class="controls">
                    <button class="btn btn-primary" id="rotateBtn">Rotate Jersey</button>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        <h5>Customize Your Jersey</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <label class="form-label">Jersey Color</label>
                            <input type="color" class="form-control form-control-color" id="jerseyColor" value="#ffffff">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Sleeve Color</label>
                            <input type="color" class="form-control form-control-color" id="sleeveColor" value="#000000">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Player Name</label>
                            <input type="text" class="form-control" id="playerName" placeholder="Enter name">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Player Number</label>
                            <input type="number" class="form-control" id="playerNumber" placeholder="Enter number" min="0" max="99">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label">Text Color</label>
                            <input type="color" class="form-control form-control-color" id="textColor" value="#000000">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const jerseyContainer = document.getElementById('jerseyContainer');
            const rotateBtn = document.getElementById('rotateBtn');
            const jerseyColor = document.getElementById('jerseyColor');
            const sleeveColor = document.getElementById('sleeveColor');
            const playerName = document.getElementById('playerName');
            const playerNumber = document.getElementById('playerNumber');
            const textColor = document.getElementById('textColor');
            const nameOverlay = document.getElementById('nameOverlay');
            const frontNumberOverlay = document.getElementById('frontNumberOverlay');
            const backNumberOverlay = document.getElementById('backNumberOverlay');
            
            // Jersey body and sleeve elements
            const jerseyBodies = document.querySelectorAll('.jersey-body');
            const jerseySleeveElements = document.querySelectorAll('.jersey-sleeve');
            
            // State
            let isShowingFront = true;
            
            // Event listeners
            rotateBtn.addEventListener('click', rotateJersey);
            jerseyColor.addEventListener('input', updateJerseyColors);
            sleeveColor.addEventListener('input', updateJerseyColors);
            playerName.addEventListener('input', updatePlayerDetails);
            playerNumber.addEventListener('input', updatePlayerDetails);
            textColor.addEventListener('input', updatePlayerDetails);
            
            // Functions
            function rotateJersey() {
                isShowingFront = !isShowingFront;
                jerseyContainer.style.transform = isShowingFront ? 'rotateY(0deg)' : 'rotateY(180deg)';
                rotateBtn.textContent = isShowingFront ? 'Show Back' : 'Show Front';
            }
            
            function updateJerseyColors() {
                // Update jersey body color
                jerseyBodies.forEach(body => {
                    body.setAttribute('fill', jerseyColor.value);
                });
                
                // Update sleeve color
                jerseySleeveElements.forEach(sleeve => {
                    sleeve.setAttribute('fill', sleeveColor.value);
                });
            }
            
            function updatePlayerDetails() {
                // Update name
                nameOverlay.textContent = playerName.value.toUpperCase();
                
                // Update number
                const number = playerNumber.value;
                frontNumberOverlay.textContent = number;
                backNumberOverlay.textContent = number;
                
                // Update text color
                nameOverlay.style.color = textColor.value;
                frontNumberOverlay.style.color = textColor.value;
                backNumberOverlay.style.color = textColor.value;
            }
            
            // Initialize button text
            rotateBtn.textContent = 'Show Back';
        });
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

