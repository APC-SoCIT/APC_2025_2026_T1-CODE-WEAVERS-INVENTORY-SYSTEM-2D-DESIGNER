<!DOCTYPE html>
{% load static %}
{% load widget_tweaks %}
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>WorksTeamWear</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda+SC:ital,opsz,wght@0,6..96,400..900;1,6..96,400..900&family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap" rel="stylesheet">
    <style media="screen">
      body {
        margin: 0;
        padding: 0;
        font-family: 'Crimson Text', serif; /* Apply Crimson Text font */
        background: url('{% static "images/background.jpg" %}') no-repeat center center fixed; /* Use the specified image as background */
        background-size: cover; /* Ensure the background image covers the entire page */
      }

      .box {
        width: 100%;
        max-width: 400px;
        padding: 40px;
        position: absolute;
        top: 35000%;
        left: 100%;
        transform: translate(-50%, -50%);
        background: rgba(255, 255, 255, 0.1); /* More transparent background */
        backdrop-filter: blur(15px); /* Increased blur effect */
        -webkit-backdrop-filter: blur(15px); /* Increased blur effect for Safari */
        text-align: center;
        transition: 0.25s;
        border-radius: 20px;
        border: 1px solid rgba(255, 255, 255, 0.3); /* Border to enhance glass effect */
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
      }

      .box:hover {
        box-shadow: 1px 1px 25px 1px rgba(255, 255, 255, 0.75); /* Enhanced shadow on hover */
        -webkit-box-shadow: 1px 1px 25px 1px rgba(255, 255, 255, 0.75); /* Enhanced shadow for WebKit browsers on hover */
        -moz-box-shadow: 1px 1px 25px 1px rgba(255, 255, 255, 0.75); /* Enhanced shadow for Mozilla browsers on hover */
      }

      .box input[type="text"],
      .box input[type="password"] {
        border: 0;
        background: none;
        display: block;
        margin: 20px auto;
        text-align: center;
        border: 2px solid #ffffff;
        padding: 10px 10px;
        width: 250px;
        outline: none;
        color: white;
        border-radius: 24px;
        transition: 0.25s;
      }

      .box input[type="text"]::placeholder,
      .box input[type="password"]::placeholder {
        color: #ffffff; /* Change this color to your desired placeholder color */
      }

      .box h1 {
        color: white;
        font-family: 'Bodoni Moda SC', serif; /* Apply Bodoni Moda SC font */
        font-weight: 600; /* Adjust the font weight as needed */
      }

      .box input[type="text"]:focus,
      .box input[type="password"]:focus {
        width: 300px;
        border-color: #d3d3d3;
      }

      .box input[type="submit"] {
        border: 0;
        background: none;
        display: block;
        margin: 20px auto;
        text-align: center;
        border: 2px solid #2ecc71;
        padding: 14px 40px;
        outline: none;
        color: white;
        border-radius: 24px;
        transition: 0.25s;
        cursor: pointer;
      }

      .box input[type="submit"]:hover {
        background: #2ecc71;
      }

      .forgot {
        text-decoration: underline;
      }

      ul.social-network {
        list-style: none;
        display: inline;
        margin-left: 0 !important;
        padding: 0;
      }

      ul.social-network li {
        display: inline;
        margin: 0 5px;
      }

      .social-network a.icoFacebook:hover {
        background-color: #3B5998;
      }

      .social-network a.icoTwitter:hover {
        background-color: #33ccff;
      }

      .social-network a.icoGoogle:hover {
        background-color: #BD3518;
      }

      .social-network a.icoFacebook:hover i,
      .social-network a.icoTwitter:hover i,
      .social-network a.icoGoogle:hover i {
        color: #fff;
      }

      a.socialIcon:hover,
      .socialHoverClass {
        color: #44BCDD;
      }

      .social-circle li a {
        display: inline-block;
        position: relative;
        margin: 0 auto 0 auto;
        border-radius: 50%;
        text-align: center;
        width: 50px;
        height: 50px;
        font-size: 20px;
      }

      .social-circle li i {
        margin: 0;
        line-height: 50px;
        text-align: center;
      }

      .social-circle li a:hover i,
      .triggeredHover {
        transform: rotate(360deg);
        transition: all 0.2s;
      }

      .social-circle i {
        color: #fff;
        transition: all 0.8s;
        transition: all 0.8s;
      }
    </style>
    <script>
      // Use only the region/city/barangay logic
      document.addEventListener('DOMContentLoaded', function() {
          updateRegions();
          // Restore previous values if present (for validation errors)
          const prevRegion = '{{ customerForm.region.value|escapejs }}';
          const prevCity = '{{ customerForm.city.value|escapejs }}';
          const prevBarangay = '{{ customerForm.barangay.value|escapejs }}';
          if (prevRegion) {
              document.getElementById('region').value = prevRegion;
              updateCities();
              if (prevCity) {
                  document.getElementById('city').value = prevCity;
                  updateBarangays();
                  if (prevBarangay) {
                      document.getElementById('barangay').value = prevBarangay;
                  }
              }
          }
      });

      // Use region codes for values, but show full names
      const philippineRegions = [
        { code: 'NCR', name: 'National Capital Region (NCR)' },
        { code: 'CAR', name: 'Cordillera Administrative Region (CAR)' },
        { code: 'R1', name: 'Ilocos Region (Region I)' },
        { code: 'R2', name: 'Cagayan Valley (Region II)' },
        { code: 'R3', name: 'Central Luzon (Region III)' },
        { code: 'R4A', name: 'CALABARZON (Region IV-A)' },
        { code: 'R4B', name: 'MIMAROPA (Region IV-B)' },
        { code: 'R5', name: 'Bicol Region (Region V)' },
        { code: 'R6', name: 'Western Visayas (Region VI)' },
        { code: 'R7', name: 'Central Visayas (Region VII)' },
        { code: 'R8', name: 'Eastern Visayas (Region VIII)' },
        { code: 'R9', name: 'Zamboanga Peninsula (Region IX)' },
        { code: 'R10', name: 'Northern Mindanao (Region X)' },
        { code: 'R11', name: 'Davao Region (Region XI)' },
        { code: 'R12', name: 'SOCCSKSARGEN (Region XII)' },
        { code: 'R13', name: 'Caraga (Region XIII)' },
        { code: 'BARMM', name: 'Bangsamoro (BARMM)' }
      ];

      const philippineCities = {
        'NCR': [
          'Caloocan', 'Las Piñas', 'Makati', 'Malabon', 'Mandaluyong', 'Manila',
          'Marikina', 'Muntinlupa', 'Navotas', 'Parañaque', 'Pasay', 'Pasig',
          'Pateros', 'Quezon City', 'San Juan', 'Taguig', 'Valenzuela'
        ],
        'CAR': [
          'Baguio City', 'Tabuk City', 'Bangued', 'La Trinidad', 'Lagawe', 'Bontoc',
          'Bauko', 'Sagada', 'Tadian'
        ],
        'R1': [
          'Laoag City', 'San Fernando City', 'Vigan City', 'Candon City', 'Batac City',
          'Alaminos', 'Dagupan', 'Urdaneta', 'San Carlos'
        ],
        'R2': [
          'Tuguegarao City', 'Cauayan City', 'Ilagan City', 'Santiago City', 'Bayombong',
          'Solano', 'Aparri', 'Roxas'
        ],
        'R3': [
          'Angeles City', 'Balanga City', 'Cabanatuan City', 'Gapan City', 'Malolos City',
          'Meycauayan', 'Olongapo City', 'San Fernando', 'San Jose del Monte'
        ],
        'R4A': [
          'Antipolo', 'Bacoor', 'Batangas City', 'Biñan', 'Cabuyao', 'Calamba',
          'Dasmariñas', 'Imus', 'San Pablo', 'Santa Rosa', 'Trece Martires'
        ],
        'R4B': [
          'Calapan', 'Puerto Princesa', 'Roxas', 'San Jose', 'Mamburao'
        ],
        'R5': [
          'Legazpi', 'Ligao', 'Tabaco', 'Iriga', 'Naga', 'Sorsogon'
        ],
        'R6': [
          'Bacolod', 'Bago', 'Cadiz', 'Himamaylan', 'Iloilo City', 'Kabankalan',
          'La Carlota', 'Passi', 'Roxas City', 'San Carlos', 'Silay', 'Sipalay', 'Talisay', 'Victorias'
        ],
        'R7': [
          'Bais', 'Bayawan', 'Bogo', 'Cebu City', 'Danao', 'Dumaguete', 'Lapu-Lapu',
          'Mandaue', 'Tagbilaran', 'Talisay', 'Toledo'
        ],
        'R8': [
          'Borongan', 'Calbayog', 'Catbalogan', 'Maasin', 'Ormoc', 'Tacloban'
        ],
        'R9': [
          'Dapitan', 'Dipolog', 'Isabela', 'Pagadian', 'Zamboanga City'
        ],
        'R10': [
          'Cagayan de Oro', 'El Salvador', 'Gingoog', 'Iligan', 'Malaybalay', 'Oroquieta', 'Ozamiz', 'Tangub', 'Valencia'
        ],
        'R11': [
          'Davao City', 'Digos', 'Island Garden City of Samal', 'Mati', 'Panabo', 'Tagum'
        ],
        'R12': [
          'Cotabato City', 'General Santos', 'Kidapawan', 'Koronadal', 'Tacurong'
        ],
        'R13': [
          'Bayugan', 'Bislig', 'Butuan', 'Cabadbaran', 'Surigao City', 'Tandag'
        ],
        'BARMM': [
          'Cotabato City', 'Lamitan', 'Marawi', 'Bongao', 'Jolo', 'Siasi'
        ]
      };

      const barangays = {
          'Manila': [
              'Binondo', 'Ermita', 'Intramuros', 'Malate', 'Paco', 'Pandacan', 'Port Area',
              'Quiapo', 'Sampaloc', 'San Andres', 'San Miguel', 'San Nicolas', 'Santa Ana',
              'Santa Cruz', 'Santa Mesa', 'Tondo', 'Quiapo', 'Pandacan', 'Paco', 'San Andres Bukid'
          ],
          'Quezon City': [
              'Alicia', 'Bagbag', 'Bagong Lipunan ng Crame', 'Bagong Pag-asa',
              'Bagong Silangan', 'Bagumbayan', 'Bahay Toro', 'Balingasa', 'Balong Bato',
              'Batasan Hills', 'Commonwealth', 'Culiat', 'Diliman', 'Fairview', 'Holy Spirit',
              'Kamuning', 'Krystal', 'Laging Handa', 'Mariana', 'Masagana', 'Masambong', 'Matandang Balara'
          ],
          'Makati': [
              'Bangkal', 'Bel-Air', 'Carmona', 'Cembo', 'Comembo', 'Dasmariñas',
              'East Rembo', 'Forbes Park', 'Guadalupe Nuevo', 'Guadalupe Viejo',
              'Kasilawan', 'La Paz', 'Magallanes', 'Olympia', 'Palanan', 'Pembo', 'Pinagkaisahan', 'Pio del Pilar', 'Pitogo', 'Poblacion', 'Post Proper Northside', 'Post Proper Southside', 'Rizal', 'San Antonio', 'San Isidro', 'San Lorenzo', 'Santa Cruz', 'Singkamas', 'South Cembo', 'Tejeros', 'Urdaneta', 'Valenzuela', 'West Rembo'
          ],
          'Cebu City': [
              'Apas', 'Bacayan', 'Banilad', 'Basak San Nicolas', 'Basak Pardo', 'Binaliw', 'Bonbon', 'Budlaan', 'Busay', 'Calamba', 'Cambinocot', 'Capitol Site', 'Carreta', 'Cogon Pardo', 'Day-as', 'Duljo-Fatima', 'Ermita', 'Guadalupe', 'Hipodromo', 'Inayawan', 'Kalubihan', 'Kamagayan', 'Kasambagan', 'Kinasang-an Pardo', 'Labangon', 'Lahug', 'Lorega San Miguel', 'Luz', 'Mabolo', 'Malubog', 'Mambaling', 'Pahina Central', 'Pahina San Nicolas', 'Pahina Tres', 'Pamutan', 'Pari-an', 'Paril', 'Pasil', 'Pit-os', 'Poblacion Pardo', 'Pulangbato', 'Punta Princesa', 'Quiot', 'Sambag I', 'Sambag II', 'San Antonio', 'San Jose', 'San Nicolas Proper', 'San Roque', 'Santa Cruz', 'Santo Niño', 'Sawang Calero', 'Sinsin', 'Sirao', 'Suba', 'Sudlon I', 'Sudlon II', 'Tabunan', 'Tagbao', 'Talamban', 'Taptap', 'Tejero', 'Tinago', 'Tisa', 'To-ong', 'Zapatera'
          ],
          'Davao City': [
              'Agdao', 'Baguio', 'Buhangin', 'Bunawan', 'Calinan', 'Davao', 'Marilog', 'Paquibato', 'Poblacion', 'Talomo', 'Toril', 'Tugbok'
          ]
          // Add more cities and their barangays as needed
      };

      function updateRegions() {
        const regionSelect = document.getElementById('region');
        regionSelect.innerHTML = '<option value="">Select Region</option>';
        philippineRegions.forEach(region => {
          const option = document.createElement('option');
          option.value = region.code;
          option.textContent = region.name;
          regionSelect.appendChild(option);
        });
        // If a value is already set (edit form), select it
        if (regionSelect.dataset.value) {
          regionSelect.value = regionSelect.dataset.value;
        }
        updateCities();
      }

      function updateCities() {
          const regionSelect = document.getElementById('region');
          const citySelect = document.getElementById('city');
          const selectedRegion = regionSelect.value;
          citySelect.innerHTML = '<option value="">Select City</option>';
          const cities = philippineCities[selectedRegion] || [];
          cities.forEach(city => {
              const option = document.createElement('option');
              option.value = city;
              option.textContent = city;
              citySelect.appendChild(option);
          });
          // If a value is already set (edit form), select it
          if (citySelect.dataset.value) {
            citySelect.value = citySelect.dataset.value;
          }
          updateBarangays();
      }

      function updateBarangays() {
          const citySelect = document.getElementById('city');
          const barangaySelect = document.getElementById('barangay');
          const selectedCity = citySelect.value;
          barangaySelect.innerHTML = '<option value="">Select Barangay</option>';
          const cityBarangays = barangays[selectedCity] || [];
          cityBarangays.forEach(barangay => {
              const option = document.createElement('option');
              option.value = barangay;
              option.textContent = barangay;
              barangaySelect.appendChild(option);
          });
          // If a value is already set (edit form), select it
          if (barangaySelect.dataset.value) {
            barangaySelect.value = barangaySelect.dataset.value;
          }
      }
    </script>
    <style media="screen">
      /* Add these new styles for the modal */
      .modal {
          display: none;
          position: fixed;
          z-index: 1000;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0,0,0,0.4);
      }
      
      .modal-content {
          background: rgba(255, 255, 255, 0.95);
          margin: 5% auto;
          padding: 20px;
          width: 80%;
          max-width: 800px;
          max-height: 80vh;
          overflow-y: auto;
          border-radius: 10px;
          position: relative;
      }
      
      .close-modal {
          position: absolute;
          right: 20px;
          top: 10px;
          font-size: 28px;
          cursor: pointer;
      }
      
      .modal-content h1 {
          color: #333;
          margin-bottom: 20px;
      }
      
      .modal-content h2 {
          color: #444;
          margin-top: 20px;
      }
      
      .modal-content p, .modal-content ul {
          color: #666;
          line-height: 1.6;
      }
      
      .modal-content ul {
          margin-left: 20px;
      }
      </style>
    </head>
    <body>
      {% include "ecom/navbar.html" %}
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <div class="card">
              <form class="box" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <h1>Sign Up</h1>
                {% render_field userForm.first_name class="form-control" placeholder="First Name" %}
                {% render_field userForm.last_name class="form-control" placeholder="Last Name" %}
                {% render_field userForm.username class="form-control" placeholder="Username" %}
                {% render_field userForm.password class="form-control" placeholder="Password" %}
                {% render_field userForm.confirm_password class="form-control" placeholder="Confirm Password" %}
                {% render_field customerForm.street_address class="form-control" placeholder="Street Address" %}
                {% render_field customerForm.mobile class="form-control" placeholder="Phone Number" %}
                {% render_field customerForm.postal_code class="form-control" placeholder="Postal Code" %}
                {% render_field customerForm.region class="form-control" id="region" style="background: none; border: 2px solid #ffffff; color: white; border-radius: 24px; margin: 20px auto; width: 250px; text-align: center;" onchange="updateCities()" %}
                {% render_field customerForm.city class="form-control" id="city" style="background: none; border: 2px solid #ffffff; color: white; border-radius: 24px; margin: 20px auto; width: 250px; text-align: center;" onchange="updateBarangays()" %}
                {% render_field customerForm.barangay class="form-control" id="barangay" style="background: none; border: 2px solid #ffffff; color: white; border-radius: 24px; margin: 20px auto; width: 250px; text-align: center;" %}
                
                {% if userForm.errors or customerForm.errors %}
                <div style="color: #ffb3b3; background: #2c2c2c; border-radius: 10px; padding: 10px; margin-bottom: 10px;">
                  {% for field in userForm %}
                    {% for error in field.errors %}
                      <div>{{ field.label }}: {{ error }}</div>
                    {% endfor %}
                  {% endfor %}
                  {% for error in userForm.non_field_errors %}
                    <div>{{ error }}</div>
                  {% endfor %}
                  {% for field in customerForm %}
                    {% for error in field.errors %}
                      <div>{{ field.label }}: {{ error }}</div>
                    {% endfor %}
                  {% endfor %}
                  {% for error in customerForm.non_field_errors %}
                    <div>{{ error }}</div>
                  {% endfor %}
                </div>
                {% endif %}

                <div class="form-check" style="text-align: left; margin: 20px auto; width: 250px;">
                    <input type="checkbox" class="form-check-input" id="privacy_policy" name="privacy_policy" required>
                    <label class="form-check-label" for="privacy_policy" style="color: white;">
                        I agree to the <a href="#" onclick="showPrivacyPolicy()" style="color: #2ecc71;">Privacy Policy</a>
                    </label>
                </div>

                <input type="submit" name="" value="Sign Up">

                <!-- Privacy Policy Modal -->
                <div id="privacyPolicyModal" class="modal">
                    <div class="modal-content">
                        <span class="close-modal" onclick="closePrivacyPolicy()">&times;</span>
                        <h1>Privacy Policy</h1>
                        <p>This Privacy Policy describes how your personal information is collected, used, and shared when you visit or make a purchase from our site.</p>
                        <!-- Add more privacy policy content here -->
                    </div>
                </div>

                <script>
                    function showPrivacyPolicy() {
                        document.getElementById('privacyPolicyModal').style.display = 'block';
                    }

                    function closePrivacyPolicy() {
                        document.getElementById('privacyPolicyModal').style.display = 'none';
                    }
                </script>
    </body>
</html>