{% extends 'ecom/customer_base.html' %} {% load widget_tweaks %} {% block content %}

<head>
    <style media="screen">
        body {
            background-color: #ffffff;
        }
        
        a:link {
            text-decoration: none;
        }
        
        .note {
            text-align: center;
            height: 80px;
            background: -webkit-linear-gradient(left, #0072ff, #8811c5);
            color: #fff;
            font-weight: bold;
            line-height: 80px;
        }
        
        .form-content {
            padding: 5%;
            border: 1px solid #ced4da;
            margin-bottom: 2%;
        }
        
        .form-control {
            border-radius: 1.5rem;
        }
        
        .btnSubmit {
            border: none;
            border-radius: 1.5rem;
            padding: 1%;
            width: 20%;
            cursor: pointer;
            background: #005d94;
            color: #fff;
        }
        
        .menu {
            top: 50px;
        }
    </style>


    <script>
        window.onload = function() {
            updateRegions();
            updateCities();
            updateBarangays();
        };

        const philippineRegions = [
            'National Capital Region (NCR)',
            'Cordillera Administrative Region (CAR)',
            'Ilocos Region (Region I)',
            'Cagayan Valley (Region II)',
            'Central Luzon (Region III)',
            'CALABARZON (Region IV-A)',
            'MIMAROPA (Region IV-B)',
            'Bicol Region (Region V)',
            'Western Visayas (Region VI)',
            'Central Visayas (Region VII)',
            'Eastern Visayas (Region VIII)',
            'Zamboanga Peninsula (Region IX)',
            'Northern Mindanao (Region X)',
            'Davao Region (Region XI)',
            'SOCCSKSARGEN (Region XII)',
            'Caraga (Region XIII)',
            'Bangsamoro (BARMM)'
        ];

        const philippineCities = {
            'National Capital Region (NCR)': ['Manila', 'Quezon City', 'Makati', 'Taguig', 'Pasig', 'Parañaque', 'Caloocan', 'Las Piñas', 'Malabon', 'Mandaluyong', 'Marikina', 'Muntinlupa', 'Navotas', 'Pasay', 'San Juan', 'Valenzuela'],
            'CALABARZON (Region IV-A)': ['Bacoor', 'Dasmariñas', 'Imus', 'General Trias', 'Cavite City', 'Tagaytay', 'Batangas City', 'Lipa', 'Tanauan', 'Lucena', 'San Pablo', 'Calamba', 'Santa Rosa', 'Biñan', 'San Pedro', 'Antipolo'],
            'Central Luzon (Region III)': ['Angeles', 'San Fernando', 'Mabalacat', 'Olongapo', 'Balanga', 'Malolos', 'Meycauayan', 'San Jose del Monte', 'Cabanatuan', 'Gapan', 'Palayan', 'San Jose', 'Tarlac City', 'Tarlac'],
            'Central Visayas (Region VII)': ['Cebu City', 'Lapu-Lapu', 'Mandaue', 'Talisay', 'Danao', 'Toledo', 'Tagbilaran', 'Dumaguete', 'Bais', 'Bayawan', 'Canlaon', 'Guihulngan'],
            'Davao Region (Region XI)': ['Davao City', 'Digos', 'Mati', 'Panabo', 'Samal', 'Tagum']
            // Add more regions and cities as needed
        };

        const barangays = {
            'Manila': ['Barangay 1', 'Barangay 2', 'Barangay 3', 'Barangay 4', 'Barangay 5', 'Binondo', 'Ermita', 'Intramuros', 'Malate', 'Paco', 'Pandacan', 'Port Area', 'Quiapo', 'Sampaloc', 'San Andres', 'San Miguel', 'San Nicolas', 'Santa Ana', 'Santa Cruz', 'Santa Mesa', 'Tondo'],
            'Quezon City': ['Alicia', 'Bagbag', 'Bagong Lipunan ng Crame', 'Bagong Pag-asa', 'Bagong Silangan', 'Bagumbayan', 'Bahay Toro', 'Balingasa', 'Balong Bato', 'Batasan Hills', 'Commonwealth', 'Culiat', 'Damar', 'Damayan', 'Del Monte', 'Dioquino Zobel', 'Don Manuel', 'Doña Imelda', 'Doña Josefa', 'East Kamias'],
            'Makati': ['Bangkal', 'Bel-Air', 'Carmona', 'Cembo', 'Comembo', 'Dasmariñas', 'East Rembo', 'Forbes Park', 'Guadalupe Nuevo', 'Guadalupe Viejo', 'Kasilawan', 'La Paz', 'Magallanes', 'Olympia', 'Palanan', 'Pembo', 'Pinagkaisahan', 'Pio Del Pilar', 'Pitogo', 'Poblacion'],
            'Cebu City': ['Adlaon', 'Agsungot', 'Apas', 'Babag', 'Bacayan', 'Banilad', 'Basak Pardo', 'Basak San Nicolas', 'Binaliw', 'Bonbon', 'Budlaan', 'Buot', 'Busay', 'Calamba', 'Capitol Site', 'Carreta', 'Cogon Pardo', 'Day‑as', 'Duljo Fatima', 'Ermita'],
            'Davao City': ['1-A', '2-A', '3-A', 'Acacia', 'Agdao', 'Agusan', 'Alejandra Navarro', 'Alfonso Angliongto Sr.', 'Bago Aplaya', 'Bago Gallera', 'Baguio District', 'Bajada', 'Balusong', 'Bangkal', 'Barpa', 'Bato', 'Bayabas', 'Bempeflor', 'Binugao', 'Buda']
            // Add more cities and their barangays
        };

        function updateRegions() {
            const regionSelect = document.getElementById('region');
            regionSelect.innerHTML = '<option value="">Select Region</option>';
            philippineRegions.forEach(region => {
                const option = document.createElement('option');
                option.value = region;
                option.textContent = region;
                regionSelect.appendChild(option);
            });
            updateCities();
        }

        function updateCities() {
            const regionSelect = document.getElementById('region');
            const citySelect = document.getElementById('city');
            const selectedRegion = regionSelect.value;
            
            citySelect.innerHTML = '<option value="">Select City</option>';
            
            const cities = philippineCities[selectedRegion] || [];
            cities.forEach(city => {
                const option = document.createElement('option');
                option.value = city;
                option.textContent = city;
                citySelect.appendChild(option);
            });
            
            updateBarangays();
        }

        function updateBarangays() {
            const citySelect = document.getElementById('city');
            const barangaySelect = document.getElementById('barangay');
            const selectedCity = citySelect.value;
            
            barangaySelect.innerHTML = '<option value="">Select Barangay</option>';
            
            const cityBarangays = barangays[selectedCity] || [];
            cityBarangays.forEach(barangay => {
                const option = document.createElement('option');
                option.value = barangay;
                option.textContent = barangay;
                barangaySelect.appendChild(option);
            });
        }
    </script>
</head>
<br><br><br><br><br><br>

{% if messages %}
    {% for message in messages %}
        <div class="alert alert-success" style="margin: 0 auto; width: 50%;">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="container register-form">
        <div class="form">
            <div class="note">
                <p>EDIT PROFILE</p>
            </div>
            <div class="form-content">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {% render_field userForm.first_name class="form-control" placeholder="First Name" %}
                        </div>
                        <div class="form-group">
                            {% render_field userForm.username class="form-control" placeholder="Username" %}
                        </div>
                        <div class="form-group">
                            {% render_field customerForm.mobile class="form-control" placeholder="Mobile" %}
                        </div>
                        <div class="form-group">
                            {% render_field customerForm.street_address class="form-control" placeholder="Street Address" %}
                        </div>
                        <div class="form-group">
                            <!-- Replace the country select with region select -->
                            <div class="form-group">
                                <select name="region" class="form-control" id="region" onchange="updateCities()">
                                    <option value="">Select Region</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <select name="city" class="form-control" id="city" onchange="updateBarangays()">
                                <option value="">Select City</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <select name="barangay" class="form-control" id="barangay">
                                <option value="">Select Barangay</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            {% render_field userForm.last_name class="form-control" placeholder="Last Name" %}
                        </div>
                        <div class="form-group">
                            {% render_field userForm.password class="form-control" placeholder="Password" %}
                        </div>
                        <div class="form-group">
                            {% render_field customerForm.postal_code class="form-control" placeholder="Postal Code" %}
                        </div>

                    </div>
                </div>
                <div>
                    <center><button type="submit" class="btnSubmit">Save</button></center>
                </div>
            </div>
        </div>
    </div>
</form>

{% endblock content %}